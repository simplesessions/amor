var Amortization;Amortization=function(){function t(){}return t.monthlyPayment=function(t,n,r){var a,e;return e=12*t,a=r/12,n*a*Math.pow(1+a,e)/(Math.pow(1+a,e)-1)},t.paymentForBalance=function(t,n,r){var a;return a=n/12*r,{interestPmt:a,principalPmt:t-a,balance:r-(t-n/12*r)}},t.$=function(n){return accounting.formatMoney(t.round(n))},t.round=function(t){return Math.round(100*t)/100},t.emptyRow=function(){return{year:"undefined",interestPmt:0,principalPmt:0,balance:0}},t.buildTable=function(n,r,a,e){var i,o,m,c,u,l,p,y,d;for(m="",o=n,u=12*r,i=a,c=t.monthlyPayment(r,a,e),y=t.emptyRow(),y.year=n.format("YYYY"),l=d=0;u>=0?u>d:d>u;l=u>=0?++d:--d)p=t.paymentForBalance(c,e,i),m+="<tr>",m+="<td>"+o.format("MMM YYYY")+"</td>",m+="<td>"+t.$(p.interestPmt)+"</td>",m+="<td>"+t.$(p.principalPmt)+"</td>",m+="<td>"+t.$(p.balance)+"</td>",m+="</tr>",y.interestPmt+=p.interestPmt,y.principalPmt+=p.principalPmt,y.balance+=p.balance,o=o.add(1,"months"),o.format("YYYY")!==y.year&&(m+='<tr class="year-summary">',m+="<th>"+y.year+"</th>",m+="<th>"+t.$(y.interestPmt)+"</th>",m+="<th>"+t.$(y.principalPmt)+"</th>",m+="<th>"+t.$(p.balance)+"</th>",m+="</tr>"),y=t.emptyRow(),y.year=o.format("YYYY"),i=p.balance;return m},t}();
//# sourceMappingURL=./amortization.js.map