var Amortizer;Amortizer=function(){function t(){}return t.monthlyPayment=function(t,n,r){var a,e;return e=12*t,a=r/12,n*a*Math.pow(1+a,e)/(Math.pow(1+a,e)-1)},t.paymentForBalance=function(t,n,r){var a;return a=n/12*r,{interestPmt:a,principalPmt:t-a,balance:r-(t-n/12*r)}},t.$=function(n){return accounting.formatMoney(t.round(n))},t.round=function(t){return Math.round(100*t)/100},t.emptyRow=function(){return{year:"undefined",interestPmt:0,principalPmt:0,balance:0}},t.buildTable=function(n,r,a,e){var i,m,o,c,u,l,p,y,d;for(o="",m=n,u=12*r,i=a,c=t.monthlyPayment(r,a,e),y=t.emptyRow(),y.year=n.format("YYYY"),l=d=0;u>=0?u>d:d>u;l=u>=0?++d:--d)p=t.paymentForBalance(c,e,i),o+="<tr>",o+="<td>"+m.format("MMM YYYY")+"</td>",o+="<td>"+t.$(p.interestPmt)+"</td>",o+="<td>"+t.$(p.principalPmt)+"</td>",o+="<td>"+t.$(p.balance)+"</td>",o+="</tr>",y.interestPmt+=p.interestPmt,y.principalPmt+=p.principalPmt,y.balance+=p.balance,m=m.add(1,"months"),m.format("YYYY")!==y.year&&(o+='<tr class="year-summary">',o+="<th>"+y.year+"</th>",o+="<th>"+t.$(y.interestPmt)+"</th>",o+="<th>"+t.$(y.principalPmt)+"</th>",o+="<th>"+t.$(p.balance)+"</th>",o+="</tr>"),y=t.emptyRow(),y.year=m.format("YYYY"),i=p.balance;return o},t}();
//# sourceMappingURL=./amortizer.js.map